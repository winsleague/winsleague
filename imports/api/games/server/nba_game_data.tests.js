/* eslint-env mocha */
/* eslint-disable func-names, prefer-arrow-callback */

import { assert } from 'chai';
import sinon from 'sinon';

import NbaGameData from './nba_game_data';
import NbaSeeds from '../../../startup/server/seeds/nba';
import LeagueFinder from '../../leagues/finder';
import LeagueTeamFinder from '../../league_teams/finder';
import SeasonFinder from '../../seasons/finder';
import { SeasonLeagueTeams } from '../../season_league_teams/season_league_teams';

describe('NBA Game Data', function () {
  this.timeout(10000);

  beforeEach(() => {
    NbaSeeds.create();

    // it'd be great if this could be pulled from an external file but I couldn't figure out
    // how to get it to copy the external js file to the mirror
    sinon.stub(HTTP, 'get').callsFake(function (url) {
      return {
        // eslint-disable-next-line max-len, quotes
        content: `        {"_internal":{"pubDateTime":"2018-10-28 21:36:15.046","xslt":"xsl/league/standings/marty_all_standings.xsl","eventName":"standings_by_date"},"league":{"standard":{"seasonYear":2018,"seasonStageId":2,"teams":[{"teamId":"1610612749","win":"6","loss":"0","winPct":"1.000","winPctV2":"100","lossPct":".000","lossPctV2":"0","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"1","confWin":"5","confLoss":"0","divWin":"1","divLoss":"0","homeWin":"4","homeLoss":"0","awayWin":"2","awayLoss":"0","lastTenWin":"6","lastTenLoss":"0","streak":"6","divRank":"1","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":1,"nickname":2,"win":1,"loss":29,"winPct":1,"gamesBehind":28,"confWinLoss":1,"divWinLoss":4,"homeWinLoss":2,"awayWinLoss":4,"lastTenWinLoss":1,"streak":1}},{"teamId":"1610612761","win":"6","loss":"0","winPct":"1.000","winPctV2":"100","lossPct":".000","lossPctV2":"0","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"2","confWin":"4","confLoss":"0","divWin":"1","divLoss":"0","homeWin":"5","homeLoss":"0","awayWin":"1","awayLoss":"0","lastTenWin":"6","lastTenLoss":"0","streak":"6","divRank":"1","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":2,"nickname":22,"win":2,"loss":30,"winPct":2,"gamesBehind":29,"confWinLoss":2,"divWinLoss":8,"homeWinLoss":1,"awayWinLoss":9,"lastTenWinLoss":2,"streak":2}},{"teamId":"1610612744","win":"6","loss":"1","winPct":".857","winPctV2":"85.7","lossPct":".143","lossPctV2":"14.3","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"1","confWin":"3","confLoss":"1","divWin":"1","divLoss":"0","homeWin":"3","homeLoss":"0","awayWin":"3","awayLoss":"1","lastTenWin":"6","lastTenLoss":"1","streak":"4","divRank":"1","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":3,"nickname":29,"win":3,"loss":28,"winPct":3,"gamesBehind":30,"confWinLoss":8,"divWinLoss":9,"homeWinLoss":5,"awayWinLoss":3,"lastTenWinLoss":3,"streak":3}},{"teamId":"1610612743","win":"4","loss":"1","winPct":".800","winPctV2":"80","lossPct":".200","lossPctV2":"20","gamesBehind":"1","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"2","confWin":"4","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"3","homeLoss":"0","awayWin":"1","awayLoss":"1","lastTenWin":"4","lastTenLoss":"1","streak":"1","divRank":"1","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":4,"nickname":18,"win":6,"loss":25,"winPct":4,"gamesBehind":26,"confWinLoss":3,"divWinLoss":19,"homeWinLoss":4,"awayWinLoss":12,"lastTenWinLoss":4,"streak":18}},{"teamId":"1610612765","win":"4","loss":"1","winPct":".800","winPctV2":"80","lossPct":".200","lossPctV2":"20","gamesBehind":"1.5","divGamesBehind":"1.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"3","confWin":"4","confLoss":"1","divWin":"2","divLoss":"0","homeWin":"3","homeLoss":"1","awayWin":"1","awayLoss":"0","lastTenWin":"4","lastTenLoss":"1","streak":"1","divRank":"2","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":5,"nickname":21,"win":9,"loss":27,"winPct":6,"gamesBehind":25,"confWinLoss":4,"divWinLoss":2,"homeWinLoss":7,"awayWinLoss":8,"lastTenWinLoss":6,"streak":20}},{"teamId":"1610612740","win":"4","loss":"1","winPct":".800","winPctV2":"80","lossPct":".200","lossPctV2":"20","gamesBehind":"1","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"3","confWin":"3","confLoss":"1","divWin":"1","divLoss":"0","homeWin":"3","homeLoss":"1","awayWin":"1","awayLoss":"0","lastTenWin":"4","lastTenLoss":"1","streak":"1","divRank":"1","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":6,"nickname":20,"win":8,"loss":26,"winPct":5,"gamesBehind":27,"confWinLoss":6,"divWinLoss":7,"homeWinLoss":6,"awayWinLoss":7,"lastTenWinLoss":5,"streak":19}},{"teamId":"1610612738","win":"4","loss":"2","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"2","divGamesBehind":"2","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"5","confWin":"3","confLoss":"2","divWin":"2","divLoss":"1","homeWin":"1","homeLoss":"1","awayWin":"3","awayLoss":"1","lastTenWin":"4","lastTenLoss":"2","streak":"2","divRank":"2","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":7,"nickname":5,"win":4,"loss":17,"winPct":7,"gamesBehind":18,"confWinLoss":9,"divWinLoss":3,"homeWinLoss":18,"awayWinLoss":2,"lastTenWinLoss":7,"streak":5}},{"teamId":"1610612754","win":"4","loss":"2","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"2","divGamesBehind":"2","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"4","confWin":"2","confLoss":"1","divWin":"1","divLoss":"1","homeWin":"2","homeLoss":"0","awayWin":"2","awayLoss":"2","lastTenWin":"4","lastTenLoss":"2","streak":"2","divRank":"3","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":8,"nickname":19,"win":7,"loss":22,"winPct":9,"gamesBehind":21,"confWinLoss":15,"divWinLoss":11,"homeWinLoss":9,"awayWinLoss":5,"lastTenWinLoss":9,"streak":8}},{"teamId":"1610612762","win":"4","loss":"2","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"1.5","divGamesBehind":"0.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"4","confWin":"4","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"2","awayWin":"4","awayLoss":"0","lastTenWin":"4","lastTenLoss":"2","streak":"3","divRank":"2","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":9,"nickname":11,"win":5,"loss":21,"winPct":8,"gamesBehind":24,"confWinLoss":5,"divWinLoss":16,"homeWinLoss":27,"awayWinLoss":1,"lastTenWinLoss":8,"streak":4}},{"teamId":"1610612746","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"2","divGamesBehind":"2","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"8","confWin":"3","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"1","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"2","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":10,"nickname":6,"win":11,"loss":18,"winPct":10,"gamesBehind":19,"confWinLoss":10,"divWinLoss":13,"homeWinLoss":10,"awayWinLoss":10,"lastTenWinLoss":10,"streak":11}},{"teamId":"1610612763","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"2","divGamesBehind":"1","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"7","confWin":"2","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"0","awayWin":"1","awayLoss":"2","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"3","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":11,"nickname":7,"win":12,"loss":19,"winPct":11,"gamesBehind":20,"confWinLoss":14,"divWinLoss":14,"homeWinLoss":8,"awayWinLoss":16,"lastTenWinLoss":11,"streak":12}},{"teamId":"1610612748","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"2.5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"6","confWin":"2","confLoss":"2","divWin":"1","divLoss":"2","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"1","lastTenWin":"3","lastTenLoss":"2","streak":"2","divRank":"1","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":12,"nickname":9,"win":13,"loss":20,"winPct":12,"gamesBehind":16,"confWinLoss":16,"divWinLoss":12,"homeWinLoss":11,"awayWinLoss":11,"lastTenWinLoss":12,"streak":6}},{"teamId":"1610612757","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"2","divGamesBehind":"1","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"5","confWin":"2","confLoss":"0","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"1","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"3","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":13,"nickname":28,"win":17,"loss":24,"winPct":14,"gamesBehind":23,"confWinLoss":13,"divWinLoss":23,"homeWinLoss":16,"awayWinLoss":15,"lastTenWinLoss":14,"streak":21}},{"teamId":"1610612759","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"2","divGamesBehind":"1","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"6","confWin":"3","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"1","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"2","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":14,"nickname":24,"win":16,"loss":23,"winPct":13,"gamesBehind":22,"confWinLoss":7,"divWinLoss":20,"homeWinLoss":14,"awayWinLoss":14,"lastTenWinLoss":13,"streak":13}},{"teamId":"1610612755","win":"3","loss":"3","winPct":".500","winPctV2":"50","lossPct":".500","lossPctV2":"50","gamesBehind":"3","divGamesBehind":"3","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"7","confWin":"3","confLoss":"3","divWin":"0","divLoss":"1","homeWin":"3","homeLoss":"0","awayWin":"0","awayLoss":"3","lastTenWin":"3","lastTenLoss":"3","streak":"1","divRank":"3","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":15,"nickname":1,"win":10,"loss":14,"winPct":15,"gamesBehind":15,"confWinLoss":11,"divWinLoss":24,"homeWinLoss":3,"awayWinLoss":25,"lastTenWinLoss":15,"streak":9}},{"teamId":"1610612758","win":"3","loss":"3","winPct":".500","winPctV2":"50","lossPct":".500","lossPctV2":"50","gamesBehind":"2.5","divGamesBehind":"2.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"9","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"2","lastTenWin":"3","lastTenLoss":"3","streak":"2","divRank":"3","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":16,"nickname":12,"win":15,"loss":16,"winPct":16,"gamesBehind":17,"confWinLoss":19,"divWinLoss":17,"homeWinLoss":12,"awayWinLoss":18,"lastTenWinLoss":16,"streak":7}},{"teamId":"1610612766","win":"3","loss":"4","winPct":".429","winPctV2":"42.9","lossPct":".571","lossPctV2":"57.1","gamesBehind":"3.5","divGamesBehind":"1","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"8","confWin":"3","confLoss":"4","divWin":"2","divLoss":"0","homeWin":"1","homeLoss":"1","awayWin":"2","awayLoss":"3","lastTenWin":"3","lastTenLoss":"4","streak":"1","divRank":"2","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":17,"nickname":10,"win":14,"loss":5,"winPct":17,"gamesBehind":11,"confWinLoss":12,"divWinLoss":1,"homeWinLoss":20,"awayWinLoss":6,"lastTenWinLoss":17,"streak":16}},{"teamId":"1610612737","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"3.5","divGamesBehind":"1","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"9","confWin":"1","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"1","awayWin":"1","awayLoss":"2","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"3","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":18,"nickname":8,"win":19,"loss":15,"winPct":18,"gamesBehind":10,"confWinLoss":22,"divWinLoss":15,"homeWinLoss":19,"awayWinLoss":17,"lastTenWinLoss":18,"streak":15}},{"teamId":"1610612751","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"4","divGamesBehind":"4","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"10","confWin":"2","confLoss":"2","divWin":"1","divLoss":"0","homeWin":"1","homeLoss":"1","awayWin":"1","awayLoss":"3","lastTenWin":"2","lastTenLoss":"4","streak":"2","divRank":"4","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":19,"nickname":17,"win":23,"loss":9,"winPct":23,"gamesBehind":7,"confWinLoss":17,"divWinLoss":6,"homeWinLoss":21,"awayWinLoss":23,"lastTenWinLoss":23,"streak":23}},{"teamId":"1610612741","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"4","divGamesBehind":"4","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"12","confWin":"2","confLoss":"3","divWin":"0","divLoss":"1","homeWin":"1","homeLoss":"1","awayWin":"1","awayLoss":"3","lastTenWin":"2","lastTenLoss":"4","streak":"1","divRank":"4","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":20,"nickname":3,"win":18,"loss":4,"winPct":19,"gamesBehind":5,"confWinLoss":18,"divWinLoss":25,"homeWinLoss":17,"awayWinLoss":22,"lastTenWinLoss":19,"streak":10}},{"teamId":"1610612742","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"3.5","divGamesBehind":"2.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"10","confWin":"1","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"0","awayLoss":"3","lastTenWin":"2","lastTenLoss":"4","streak":"3","divRank":"4","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":21,"nickname":16,"win":22,"loss":8,"winPct":22,"gamesBehind":13,"confWinLoss":23,"divWinLoss":18,"homeWinLoss":13,"awayWinLoss":28,"lastTenWinLoss":22,"streak":26}},{"teamId":"1610612747","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"3.5","divGamesBehind":"3.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"12","confWin":"2","confLoss":"4","divWin":"1","divLoss":"0","homeWin":"1","homeLoss":"2","awayWin":"1","awayLoss":"2","lastTenWin":"2","lastTenLoss":"4","streak":"1","divRank":"4","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":22,"nickname":14,"win":20,"loss":6,"winPct":20,"gamesBehind":12,"confWinLoss":21,"divWinLoss":5,"homeWinLoss":24,"awayWinLoss":19,"lastTenWinLoss":20,"streak":17}},{"teamId":"1610612750","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"3.5","divGamesBehind":"2.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"11","confWin":"0","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"0","awayLoss":"3","lastTenWin":"2","lastTenLoss":"4","streak":"2","divRank":"4","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":23,"nickname":27,"win":24,"loss":12,"winPct":24,"gamesBehind":14,"confWinLoss":28,"divWinLoss":22,"homeWinLoss":15,"awayWinLoss":29,"lastTenWinLoss":24,"streak":24}},{"teamId":"1610612753","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"4","divGamesBehind":"1.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"11","confWin":"2","confLoss":"3","divWin":"1","divLoss":"1","homeWin":"1","homeLoss":"2","awayWin":"1","awayLoss":"2","lastTenWin":"2","lastTenLoss":"4","streak":"2","divRank":"4","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":24,"nickname":15,"win":21,"loss":7,"winPct":21,"gamesBehind":6,"confWinLoss":20,"divWinLoss":10,"homeWinLoss":25,"awayWinLoss":20,"lastTenWinLoss":21,"streak":22}},{"teamId":"1610612745","win":"1","loss":"4","winPct":".200","winPctV2":"20","lossPct":".800","lossPctV2":"80","gamesBehind":"4","divGamesBehind":"3","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"14","confWin":"1","confLoss":"4","divWin":"0","divLoss":"1","homeWin":"0","homeLoss":"3","awayWin":"1","awayLoss":"1","lastTenWin":"1","lastTenLoss":"4","streak":"3","divRank":"5","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":25,"nickname":23,"win":26,"loss":10,"winPct":25,"gamesBehind":8,"confWinLoss":26,"divWinLoss":26,"homeWinLoss":30,"awayWinLoss":13,"lastTenWinLoss":25,"streak":27}},{"teamId":"1610612760","win":"1","loss":"4","winPct":".200","winPctV2":"20","lossPct":".800","lossPctV2":"80","gamesBehind":"4","divGamesBehind":"3","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"13","confWin":"1","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"2","awayWin":"0","awayLoss":"2","lastTenWin":"1","lastTenLoss":"4","streak":"1","divRank":"5","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":26,"nickname":26,"win":28,"loss":11,"winPct":26,"gamesBehind":9,"confWinLoss":24,"divWinLoss":21,"homeWinLoss":26,"awayWinLoss":24,"lastTenWinLoss":26,"streak":14}},{"teamId":"1610612764","win":"1","loss":"4","winPct":".200","winPctV2":"20","lossPct":".800","lossPctV2":"80","gamesBehind":"4.5","divGamesBehind":"2","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"13","confWin":"0","confLoss":"2","divWin":"0","divLoss":"1","homeWin":"0","homeLoss":"2","awayWin":"1","awayLoss":"2","lastTenWin":"1","lastTenLoss":"4","streak":"2","divRank":"5","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":27,"nickname":30,"win":29,"loss":13,"winPct":27,"gamesBehind":4,"confWinLoss":29,"divWinLoss":27,"homeWinLoss":28,"awayWinLoss":21,"lastTenWinLoss":27,"streak":25}},{"teamId":"1610612752","win":"1","loss":"5","winPct":".167","winPctV2":"16.7","lossPct":".833","lossPctV2":"83.3","gamesBehind":"5","divGamesBehind":"5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"14","confWin":"1","confLoss":"4","divWin":"0","divLoss":"2","homeWin":"1","homeLoss":"2","awayWin":"0","awayLoss":"3","lastTenWin":"1","lastTenLoss":"5","streak":"5","divRank":"5","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":28,"nickname":13,"win":25,"loss":2,"winPct":28,"gamesBehind":2,"confWinLoss":25,"divWinLoss":29,"homeWinLoss":23,"awayWinLoss":27,"lastTenWinLoss":28,"streak":28}},{"teamId":"1610612756","win":"1","loss":"5","winPct":".167","winPctV2":"16.7","lossPct":".833","lossPctV2":"83.3","gamesBehind":"4.5","divGamesBehind":"4.5","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"15","confWin":"1","confLoss":"5","divWin":"0","divLoss":"2","homeWin":"1","homeLoss":"1","awayWin":"0","awayLoss":"4","lastTenWin":"1","lastTenLoss":"5","streak":"5","divRank":"5","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":29,"nickname":25,"win":27,"loss":3,"winPct":29,"gamesBehind":3,"confWinLoss":27,"divWinLoss":30,"homeWinLoss":22,"awayWinLoss":30,"lastTenWinLoss":29,"streak":29}},{"teamId":"1610612739","win":"0","loss":"6","winPct":".000","winPctV2":"0","lossPct":"1.000","lossPctV2":"100","gamesBehind":"6","divGamesBehind":"6","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"15","confWin":"0","confLoss":"5","divWin":"0","divLoss":"2","homeWin":"0","homeLoss":"3","awayWin":"0","awayLoss":"3","lastTenWin":"0","lastTenLoss":"6","streak":"6","divRank":"5","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":30,"nickname":4,"win":30,"loss":1,"winPct":30,"gamesBehind":1,"confWinLoss":30,"divWinLoss":28,"homeWinLoss":29,"awayWinLoss":26,"lastTenWinLoss":30,"streak":30}}]},"africa":{"seasonYear":2018,"seasonStageId":2,"teams":[]},"sacramento":{"seasonYear":2018,"seasonStageId":2,"teams":[{"teamId":"1610612744","win":"3","loss":"0","winPct":"1.000","winPctV2":"100","lossPct":".000","lossPctV2":"0","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"1","confWin":"3","confLoss":"0","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"0","awayWin":"1","awayLoss":"0","lastTenWin":"3","lastTenLoss":"0","streak":"3","divRank":"0","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":1,"nickname":4,"win":1,"loss":4,"winPct":1,"gamesBehind":4,"confWinLoss":1,"divWinLoss":4,"homeWinLoss":1,"awayWinLoss":2,"lastTenWinLoss":1,"streak":1}},{"teamId":"1610612748","win":"2","loss":"1","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"1","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"2","confWin":"2","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"0","awayWin":"2","awayLoss":"1","lastTenWin":"2","lastTenLoss":"1","streak":"2","divRank":"0","isWinStreak":true,"tieBreakerPts":"","sortKey":{"defaultOrder":2,"nickname":1,"win":2,"loss":3,"winPct":2,"gamesBehind":3,"confWinLoss":2,"divWinLoss":1,"homeWinLoss":3,"awayWinLoss":1,"lastTenWinLoss":2,"streak":2}},{"teamId":"1610612758","win":"1","loss":"2","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"2","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"3","confWin":"1","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"2","awayWin":"0","awayLoss":"0","lastTenWin":"1","lastTenLoss":"2","streak":"2","divRank":"0","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":3,"nickname":2,"win":3,"loss":2,"winPct":3,"gamesBehind":2,"confWinLoss":3,"divWinLoss":2,"homeWinLoss":2,"awayWinLoss":3,"lastTenWinLoss":3,"streak":3}},{"teamId":"1610612747","win":"0","loss":"3","winPct":".000","winPctV2":"0","lossPct":"1.000","lossPctV2":"100","gamesBehind":"3","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"4","confWin":"0","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"1","awayWin":"0","awayLoss":"2","lastTenWin":"0","lastTenLoss":"3","streak":"3","divRank":"0","isWinStreak":false,"tieBreakerPts":"","sortKey":{"defaultOrder":4,"nickname":3,"win":4,"loss":1,"winPct":4,"gamesBehind":1,"confWinLoss":4,"divWinLoss":3,"homeWinLoss":4,"awayWinLoss":4,"lastTenWinLoss":4,"streak":4}}]},"vegas":{"seasonYear":2018,"seasonStageId":2,"teams":[{"teamId":"1610612757","win":"7","loss":"0","winPct":"1.000","winPctV2":"100","lossPct":".000","lossPctV2":"0","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"1","confWin":"7","confLoss":"0","divWin":"0","divLoss":"0","homeWin":"4","homeLoss":"0","awayWin":"3","awayLoss":"0","lastTenWin":"7","lastTenLoss":"0","streak":"7","divRank":"0","isWinStreak":true,"tieBreakerPts":"20.0","sortKey":{"defaultOrder":1,"nickname":28,"win":1,"loss":30,"winPct":1,"gamesBehind":30,"confWinLoss":1,"divWinLoss":28,"homeWinLoss":1,"awayWinLoss":1,"lastTenWinLoss":1,"streak":1}},{"teamId":"1610612747","win":"6","loss":"1","winPct":".857","winPctV2":"85.7","lossPct":".143","lossPctV2":"14.3","gamesBehind":"1","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"2","confWin":"6","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"4","homeLoss":"1","awayWin":"2","awayLoss":"0","lastTenWin":"6","lastTenLoss":"1","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"18.0","sortKey":{"defaultOrder":2,"nickname":14,"win":2,"loss":27,"winPct":2,"gamesBehind":29,"confWinLoss":2,"divWinLoss":14,"homeWinLoss":2,"awayWinLoss":4,"lastTenWinLoss":2,"streak":19}},{"teamId":"1610612745","win":"4","loss":"1","winPct":".800","winPctV2":"80","lossPct":".200","lossPctV2":"20","gamesBehind":"2","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"4","confWin":"4","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"3","homeLoss":"1","awayWin":"1","awayLoss":"0","lastTenWin":"4","lastTenLoss":"1","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"10.5","sortKey":{"defaultOrder":3,"nickname":23,"win":6,"loss":28,"winPct":3,"gamesBehind":27,"confWinLoss":4,"divWinLoss":23,"homeWinLoss":5,"awayWinLoss":15,"lastTenWinLoss":4,"streak":22}},{"teamId":"1610612756","win":"4","loss":"1","winPct":".800","winPctV2":"80","lossPct":".200","lossPctV2":"20","gamesBehind":"2","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"3","confWin":"4","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"3","homeLoss":"1","awayWin":"1","awayLoss":"0","lastTenWin":"4","lastTenLoss":"1","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"14.0","sortKey":{"defaultOrder":4,"nickname":25,"win":7,"loss":29,"winPct":4,"gamesBehind":28,"confWinLoss":5,"divWinLoss":25,"homeWinLoss":6,"awayWinLoss":16,"lastTenWinLoss":5,"streak":7}},{"teamId":"1610612739","win":"5","loss":"2","winPct":".714","winPctV2":"71.4","lossPct":".286","lossPctV2":"28.6","gamesBehind":"2","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"5","confWin":"5","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"3","homeLoss":"1","awayWin":"2","awayLoss":"1","lastTenWin":"5","lastTenLoss":"2","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"16.0","sortKey":{"defaultOrder":5,"nickname":4,"win":3,"loss":20,"winPct":5,"gamesBehind":26,"confWinLoss":3,"divWinLoss":4,"homeWinLoss":4,"awayWinLoss":6,"lastTenWinLoss":3,"streak":13}},{"teamId":"1610612738","win":"4","loss":"2","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"2.5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"6","confWin":"4","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"3","homeLoss":"0","awayWin":"1","awayLoss":"2","lastTenWin":"4","lastTenLoss":"2","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"14.0","sortKey":{"defaultOrder":6,"nickname":5,"win":4,"loss":21,"winPct":6,"gamesBehind":25,"confWinLoss":6,"divWinLoss":5,"homeWinLoss":3,"awayWinLoss":21,"lastTenWinLoss":6,"streak":14}},{"teamId":"1610612766","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"3","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"11","confWin":"3","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"1","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"10.0","sortKey":{"defaultOrder":7,"nickname":10,"win":9,"loss":22,"winPct":7,"gamesBehind":20,"confWinLoss":8,"divWinLoss":10,"homeWinLoss":8,"awayWinLoss":18,"lastTenWinLoss":8,"streak":17}},{"teamId":"1610612742","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"3","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"10","confWin":"3","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"1","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"10.0","sortKey":{"defaultOrder":8,"nickname":16,"win":10,"loss":23,"winPct":8,"gamesBehind":21,"confWinLoss":9,"divWinLoss":16,"homeWinLoss":10,"awayWinLoss":19,"lastTenWinLoss":9,"streak":5}},{"teamId":"1610612743","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"3","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"9","confWin":"3","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"2","awayWin":"1","awayLoss":"0","lastTenWin":"3","lastTenLoss":"2","streak":"2","divRank":"0","isWinStreak":false,"tieBreakerPts":"10.5","sortKey":{"defaultOrder":9,"nickname":18,"win":11,"loss":24,"winPct":9,"gamesBehind":22,"confWinLoss":10,"divWinLoss":18,"homeWinLoss":12,"awayWinLoss":14,"lastTenWinLoss":10,"streak":24}},{"teamId":"1610612750","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"3","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"8","confWin":"3","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"2","awayWin":"2","awayLoss":"0","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"11.0","sortKey":{"defaultOrder":10,"nickname":27,"win":14,"loss":26,"winPct":11,"gamesBehind":24,"confWinLoss":12,"divWinLoss":27,"homeWinLoss":21,"awayWinLoss":5,"lastTenWinLoss":12,"streak":9}},{"teamId":"1610612760","win":"3","loss":"2","winPct":".600","winPctV2":"60","lossPct":".400","lossPctV2":"40","gamesBehind":"3","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"7","confWin":"3","confLoss":"2","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"1","awayLoss":"1","lastTenWin":"3","lastTenLoss":"2","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"12.0","sortKey":{"defaultOrder":11,"nickname":26,"win":13,"loss":25,"winPct":10,"gamesBehind":23,"confWinLoss":11,"divWinLoss":26,"homeWinLoss":11,"awayWinLoss":20,"lastTenWinLoss":11,"streak":8}},{"teamId":"1610612763","win":"4","loss":"3","winPct":".571","winPctV2":"57.1","lossPct":".429","lossPctV2":"42.9","gamesBehind":"3","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"12","confWin":"4","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"2","awayLoss":"2","lastTenWin":"4","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"12.5","sortKey":{"defaultOrder":12,"nickname":7,"win":5,"loss":10,"winPct":12,"gamesBehind":19,"confWinLoss":7,"divWinLoss":7,"homeWinLoss":7,"awayWinLoss":10,"lastTenWinLoss":7,"streak":15}},{"teamId":"1610612737","win":"3","loss":"3","winPct":".500","winPctV2":"50","lossPct":".500","lossPctV2":"50","gamesBehind":"3.5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"13","confWin":"3","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"2","awayWin":"3","awayLoss":"1","lastTenWin":"3","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"12.0","sortKey":{"defaultOrder":13,"nickname":8,"win":8,"loss":11,"winPct":13,"gamesBehind":17,"confWinLoss":13,"divWinLoss":8,"homeWinLoss":26,"awayWinLoss":2,"lastTenWinLoss":13,"streak":2}},{"teamId":"1610612765","win":"3","loss":"3","winPct":".500","winPctV2":"50","lossPct":".500","lossPctV2":"50","gamesBehind":"3.5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"14","confWin":"3","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"1","awayWin":"2","awayLoss":"2","lastTenWin":"3","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"10.5","sortKey":{"defaultOrder":14,"nickname":21,"win":12,"loss":19,"winPct":14,"gamesBehind":18,"confWinLoss":14,"divWinLoss":21,"homeWinLoss":18,"awayWinLoss":12,"lastTenWinLoss":14,"streak":20}},{"teamId":"1610612741","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"18","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"3","awayWin":"2","awayLoss":"0","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"9.5","sortKey":{"defaultOrder":15,"nickname":3,"win":17,"loss":9,"winPct":16,"gamesBehind":9,"confWinLoss":16,"divWinLoss":3,"homeWinLoss":30,"awayWinLoss":3,"lastTenWinLoss":16,"streak":12}},{"teamId":"1610612754","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"15","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"2","awayWin":"0","awayLoss":"1","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"13.0","sortKey":{"defaultOrder":16,"nickname":19,"win":24,"loss":17,"winPct":22,"gamesBehind":15,"confWinLoss":22,"divWinLoss":19,"homeWinLoss":13,"awayWinLoss":25,"lastTenWinLoss":22,"streak":6}},{"teamId":"1610612748","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"23","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"1","awayWin":"1","awayLoss":"2","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"7.0","sortKey":{"defaultOrder":17,"nickname":9,"win":19,"loss":12,"winPct":17,"gamesBehind":10,"confWinLoss":17,"divWinLoss":9,"homeWinLoss":17,"awayWinLoss":22,"lastTenWinLoss":17,"streak":16}},{"teamId":"1610612749","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"16","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"2","awayWin":"1","awayLoss":"1","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"11.5","sortKey":{"defaultOrder":18,"nickname":2,"win":16,"loss":8,"winPct":15,"gamesBehind":8,"confWinLoss":15,"divWinLoss":2,"homeWinLoss":20,"awayWinLoss":17,"lastTenWinLoss":15,"streak":11}},{"teamId":"1610612740","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"17","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"2","awayWin":"0","awayLoss":"1","lastTenWin":"2","lastTenLoss":"3","streak":"3","divRank":"0","isWinStreak":false,"tieBreakerPts":"10.0","sortKey":{"defaultOrder":19,"nickname":20,"win":25,"loss":18,"winPct":23,"gamesBehind":16,"confWinLoss":23,"divWinLoss":20,"homeWinLoss":14,"awayWinLoss":26,"lastTenWinLoss":23,"streak":27}},{"teamId":"1610612752","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"20","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"2","awayWin":"2","awayLoss":"1","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"9.0","sortKey":{"defaultOrder":20,"nickname":13,"win":22,"loss":15,"winPct":20,"gamesBehind":13,"confWinLoss":20,"divWinLoss":13,"homeWinLoss":28,"awayWinLoss":8,"lastTenWinLoss":20,"streak":4}},{"teamId":"1610612753","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"21","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"0","awayLoss":"2","lastTenWin":"2","lastTenLoss":"3","streak":"3","divRank":"0","isWinStreak":false,"tieBreakerPts":"8.5","sortKey":{"defaultOrder":21,"nickname":15,"win":23,"loss":16,"winPct":21,"gamesBehind":14,"confWinLoss":21,"divWinLoss":15,"homeWinLoss":9,"awayWinLoss":27,"lastTenWinLoss":21,"streak":26}},{"teamId":"1610612758","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"22","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"1","awayWin":"2","awayLoss":"2","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"8.5","sortKey":{"defaultOrder":22,"nickname":12,"win":21,"loss":14,"winPct":19,"gamesBehind":12,"confWinLoss":19,"divWinLoss":12,"homeWinLoss":22,"awayWinLoss":11,"lastTenWinLoss":19,"streak":3}},{"teamId":"1610612762","win":"2","loss":"3","winPct":".400","winPctV2":"40","lossPct":".600","lossPctV2":"60","gamesBehind":"4","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"19","confWin":"2","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"2","awayWin":"2","awayLoss":"1","lastTenWin":"2","lastTenLoss":"3","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"9.5","sortKey":{"defaultOrder":23,"nickname":11,"win":20,"loss":13,"winPct":18,"gamesBehind":11,"confWinLoss":18,"divWinLoss":11,"homeWinLoss":27,"awayWinLoss":7,"lastTenWinLoss":18,"streak":18}},{"teamId":"1610612746","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"4.5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"24","confWin":"2","confLoss":"4","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"1","awayWin":"1","awayLoss":"3","lastTenWin":"2","lastTenLoss":"4","streak":"2","divRank":"0","isWinStreak":false,"tieBreakerPts":"11.0","sortKey":{"defaultOrder":24,"nickname":6,"win":18,"loss":3,"winPct":25,"gamesBehind":6,"confWinLoss":25,"divWinLoss":6,"homeWinLoss":16,"awayWinLoss":24,"lastTenWinLoss":25,"streak":23}},{"teamId":"1610612755","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"4.5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"26","confWin":"2","confLoss":"4","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"2","awayWin":"2","awayLoss":"2","lastTenWin":"2","lastTenLoss":"4","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"6.5","sortKey":{"defaultOrder":25,"nickname":1,"win":15,"loss":2,"winPct":24,"gamesBehind":5,"confWinLoss":24,"divWinLoss":1,"homeWinLoss":25,"awayWinLoss":9,"lastTenWinLoss":24,"streak":10}},{"teamId":"1610612761","win":"2","loss":"4","winPct":".333","winPctV2":"33.3","lossPct":".667","lossPctV2":"66.7","gamesBehind":"4.5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"25","confWin":"2","confLoss":"4","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"1","awayWin":"2","awayLoss":"3","lastTenWin":"2","lastTenLoss":"4","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"10.5","sortKey":{"defaultOrder":26,"nickname":22,"win":26,"loss":4,"winPct":26,"gamesBehind":7,"confWinLoss":26,"divWinLoss":22,"homeWinLoss":24,"awayWinLoss":13,"lastTenWinLoss":26,"streak":21}},{"teamId":"1610612744","win":"1","loss":"4","winPct":".200","winPctV2":"20","lossPct":".800","lossPctV2":"80","gamesBehind":"5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"29","confWin":"1","confLoss":"4","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"1","awayWin":"0","awayLoss":"3","lastTenWin":"1","lastTenLoss":"4","streak":"4","divRank":"0","isWinStreak":false,"tieBreakerPts":"7.5","sortKey":{"defaultOrder":27,"nickname":29,"win":28,"loss":6,"winPct":28,"gamesBehind":3,"confWinLoss":28,"divWinLoss":29,"homeWinLoss":19,"awayWinLoss":28,"lastTenWinLoss":28,"streak":29}},{"teamId":"1610612759","win":"1","loss":"4","winPct":".200","winPctV2":"20","lossPct":".800","lossPctV2":"80","gamesBehind":"5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"28","confWin":"1","confLoss":"4","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"0","awayWin":"0","awayLoss":"4","lastTenWin":"1","lastTenLoss":"4","streak":"3","divRank":"0","isWinStreak":false,"tieBreakerPts":"8.0","sortKey":{"defaultOrder":28,"nickname":24,"win":27,"loss":5,"winPct":27,"gamesBehind":2,"confWinLoss":27,"divWinLoss":24,"homeWinLoss":15,"awayWinLoss":30,"lastTenWinLoss":27,"streak":28}},{"teamId":"1610612764","win":"1","loss":"4","winPct":".200","winPctV2":"20","lossPct":".800","lossPctV2":"80","gamesBehind":"5","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"27","confWin":"1","confLoss":"4","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"2","awayWin":"1","awayLoss":"2","lastTenWin":"1","lastTenLoss":"4","streak":"2","divRank":"0","isWinStreak":false,"tieBreakerPts":"10.5","sortKey":{"defaultOrder":29,"nickname":30,"win":29,"loss":7,"winPct":29,"gamesBehind":4,"confWinLoss":29,"divWinLoss":30,"homeWinLoss":29,"awayWinLoss":23,"lastTenWinLoss":29,"streak":25}},{"teamId":"1610612751","win":"0","loss":"5","winPct":".000","winPctV2":"0","lossPct":"1.000","lossPctV2":"100","gamesBehind":"6","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"30","confWin":"0","confLoss":"5","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"1","awayWin":"0","awayLoss":"4","lastTenWin":"0","lastTenLoss":"5","streak":"5","divRank":"0","isWinStreak":false,"tieBreakerPts":"6.5","sortKey":{"defaultOrder":30,"nickname":17,"win":30,"loss":1,"winPct":30,"gamesBehind":1,"confWinLoss":30,"divWinLoss":17,"homeWinLoss":23,"awayWinLoss":29,"lastTenWinLoss":30,"streak":30}}]},"utah":{"seasonYear":2018,"seasonStageId":2,"teams":[{"teamId":"1610612763","win":"2","loss":"1","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"1","confWin":"2","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"0","awayWin":"1","awayLoss":"1","lastTenWin":"2","lastTenLoss":"1","streak":"1","divRank":"0","isWinStreak":false,"tieBreakerPts":"6.0","sortKey":{"defaultOrder":1,"nickname":1,"win":1,"loss":2,"winPct":1,"gamesBehind":2,"confWinLoss":1,"divWinLoss":1,"homeWinLoss":2,"awayWinLoss":1,"lastTenWinLoss":1,"streak":3}},{"teamId":"1610612759","win":"2","loss":"1","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"2","confWin":"2","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"1","homeLoss":"0","awayWin":"1","awayLoss":"1","lastTenWin":"2","lastTenLoss":"1","streak":"2","divRank":"0","isWinStreak":true,"tieBreakerPts":"6.5","sortKey":{"defaultOrder":2,"nickname":4,"win":3,"loss":4,"winPct":3,"gamesBehind":4,"confWinLoss":3,"divWinLoss":4,"homeWinLoss":3,"awayWinLoss":2,"lastTenWinLoss":3,"streak":1}},{"teamId":"1610612762","win":"2","loss":"1","winPct":".667","winPctV2":"66.7","lossPct":".333","lossPctV2":"33.3","gamesBehind":"0","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"3","confWin":"2","confLoss":"1","divWin":"0","divLoss":"0","homeWin":"2","homeLoss":"1","awayWin":"0","awayLoss":"0","lastTenWin":"2","lastTenLoss":"1","streak":"1","divRank":"0","isWinStreak":true,"tieBreakerPts":"7.5","sortKey":{"defaultOrder":3,"nickname":3,"win":2,"loss":3,"winPct":2,"gamesBehind":3,"confWinLoss":2,"divWinLoss":3,"homeWinLoss":1,"awayWinLoss":3,"lastTenWinLoss":2,"streak":2}},{"teamId":"1610612737","win":"0","loss":"3","winPct":".000","winPctV2":"0","lossPct":"1.000","lossPctV2":"100","gamesBehind":"2","divGamesBehind":"0","clinchedPlayoffsCode":"","clinchedPlayoffsCodeV2":"","confRank":"4","confWin":"0","confLoss":"3","divWin":"0","divLoss":"0","homeWin":"0","homeLoss":"1","awayWin":"0","awayLoss":"2","lastTenWin":"0","lastTenLoss":"3","streak":"3","divRank":"0","isWinStreak":false,"tieBreakerPts":"4.0","sortKey":{"defaultOrder":4,"nickname":2,"win":4,"loss":1,"winPct":4,"gamesBehind":1,"confWinLoss":4,"divWinLoss":2,"homeWinLoss":4,"awayWinLoss":4,"lastTenWinLoss":4,"streak":4}}]}}}`,
      };
    });

    NbaGameData.ingestSeasonData();
  });

  afterEach(() => {
    HTTP.get.restore();
  });

  describe('Ingest Standings Data', () => {
    it('should ingest standings', () => {
      const league = LeagueFinder.getByName('NBA');
      const season = SeasonFinder.getLatestByLeague(league);
      const leagueTeam = LeagueTeamFinder.getByName(league, 'New York', 'Knicks');

      const seasonLeagueTeam = SeasonLeagueTeams.findOne({
        leagueId: league._id,
        seasonId: season._id,
        leagueTeamId: leagueTeam._id,
      });
      assert.equal(seasonLeagueTeam.wins, 1, 'totalWins');
      assert.equal(seasonLeagueTeam.losses, 5, 'totalLosses');
    });
  });
});
